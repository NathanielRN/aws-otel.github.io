<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.24.69"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Getting Started with Prometheus Remote Write Exporter for AMP | AWS Open Distro for OpenTelemetry</title><meta data-react-helmet="true" name="description" content="In this Getting Started guide, we’ll show you how to configure the ADOT Collector to scrape from a Prometheus-instrumented application, and send metrics to AWS Managed Service for Prometheus (AMP)."/><meta data-react-helmet="true" name="image" content="https://www.aws-otel.github.io/banner.png"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="IE=edge,chrome=1"/><meta data-react-helmet="true" name="MobileOptimized" content="320"/><meta data-react-helmet="true" name="HandheldFriendly" content="True"/><meta data-react-helmet="true" name="google" content="notranslate"/><meta data-react-helmet="true" name="referrer" content="no-referrer-when-downgrade"/><meta data-react-helmet="true" property="og:url" content="https://www.aws-otel.github.io/docs/getting-started/prometheus-remote-write-exporter/"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="Getting Started with Prometheus Remote Write Exporter for AMP | AWS Open Distro for OpenTelemetry"/><meta data-react-helmet="true" property="og:description" content="In this Getting Started guide, we’ll show you how to configure the ADOT Collector to scrape from a Prometheus-instrumented application, and send metrics to AWS Managed Service for Prometheus (AMP)."/><meta data-react-helmet="true" property="og:locale" content="en"/><meta data-react-helmet="true" property="og:site_name" content="AWS Open Distro for OpenTelemetry"/><meta data-react-helmet="true" property="og:image" content="https://www.aws-otel.github.io/banner.png"/><meta data-react-helmet="true" property="og:image:secure_url" content="https://www.aws-otel.github.io/banner.png"/><meta data-react-helmet="true" property="og:image:alt" content="Banner"/><meta data-react-helmet="true" property="og:image:type" content="image/png"/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="630"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Getting Started with Prometheus Remote Write Exporter for AMP | AWS Open Distro for OpenTelemetry"/><meta data-react-helmet="true" name="twitter:site" content="Amazon AWS Observability"/><meta data-react-helmet="true" name="twitter:creator" content="Amazon AWS Observability"/><meta data-react-helmet="true" name="twitter:image" content="https://www.aws-otel.github.io/banner.png"/><meta data-react-helmet="true" name="twitter:image:src" content="https://www.aws-otel.github.io/banner.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Banner"/><meta data-react-helmet="true" name="twitter:image:width" content="1200"/><meta data-react-helmet="true" name="twitter:image:height" content="630"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://www.aws-otel.github.io/docs/getting-started/prometheus-remote-write-exporter/","name":"Getting Started with Prometheus Remote Write Exporter for AMP","alternateName":"AWS Distro OpenTelemetry"}]</script><style id="server-side-jss">html {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
*, *::before, *::after {
  box-sizing: inherit;
}
body {
  margin: 0;
  background-color: #fafafa;
}
@media print {
  body {
    background-color: #fff;
  }
}
.jss27 {
  background-color: #fff;
}
.jss28 {
  border-radius: 4px;
}
.jss29 {
  box-shadow: none;
}
.jss30 {
  box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 2px 1px -1px rgba(0,0,0,0.12);
}
.jss31 {
  box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12);
}
.jss32 {
  box-shadow: 0px 1px 8px 0px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 3px 3px -2px rgba(0,0,0,0.12);
}
.jss33 {
  box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);
}
.jss34 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12);
}
.jss35 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
}
.jss36 {
  box-shadow: 0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12);
}
.jss37 {
  box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);
}
.jss38 {
  box-shadow: 0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12);
}
.jss39 {
  box-shadow: 0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12);
}
.jss40 {
  box-shadow: 0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12);
}
.jss41 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);
}
.jss42 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12);
}
.jss43 {
  box-shadow: 0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12);
}
.jss44 {
  box-shadow: 0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12);
}
.jss45 {
  box-shadow: 0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12);
}
.jss46 {
  box-shadow: 0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12);
}
.jss47 {
  box-shadow: 0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12);
}
.jss48 {
  box-shadow: 0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12);
}
.jss49 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12);
}
.jss50 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12);
}
.jss51 {
  box-shadow: 0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12);
}
.jss52 {
  box-shadow: 0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12);
}
.jss53 {
  box-shadow: 0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12);
}
.jss18 {
  width: 100%;
  display: flex;
  z-index: 1100;
  box-sizing: border-box;
  flex-shrink: 0;
  flex-direction: column;
}
.jss19 {
  top: 0;
  left: auto;
  right: 0;
  position: fixed;
}
.jss20 {
  top: 0;
  left: auto;
  right: 0;
  position: absolute;
}
.jss21 {
  top: 0;
  left: auto;
  right: 0;
  position: sticky;
}
.jss22 {
  position: static;
}
.jss23 {
  position: relative;
}
.jss24 {
  color: rgba(0, 0, 0, 0.87);
  background-color: #f5f5f5;
}
.jss25 {
  color: #fff;
  background-color: #3f51b5;
}
.jss26 {
  color: #fff;
  background-color: #f50057;
}
.jss54 {
  display: flex;
  position: relative;
  align-items: center;
}
.jss55 {
  padding-left: 16px;
  padding-right: 16px;
}
@media (min-width:600px) {
  .jss55 {
    padding-left: 24px;
    padding-right: 24px;
  }
}
.jss56 {
  min-height: 56px;
}
@media (min-width:0px) and (orientation: landscape) {
  .jss56 {
    min-height: 48px;
  }
}
@media (min-width:600px) {
  .jss56 {
    min-height: 64px;
  }
}
.jss57 {
  min-height: 48px;
}
.jss84 {
  color: inherit;
  border: 0;
  margin: 0;
  cursor: pointer;
  display: inline-flex;
  outline: none;
  padding: 0;
  position: relative;
  align-items: center;
  user-select: none;
  border-radius: 0;
  vertical-align: middle;
  justify-content: center;
  -moz-appearance: none;
  text-decoration: none;
  background-color: transparent;
  -webkit-appearance: none;
  -webkit-tap-highlight-color: transparent;
}
.jss84::-moz-focus-inner {
  border-style: none;
}
.jss84.jss85 {
  cursor: default;
  pointer-events: none;
}
.jss58 {
  color: rgba(0, 0, 0, 0.87);
  padding: 6px 16px;
  font-size: 0.875rem;
  min-width: 64px;
  box-sizing: border-box;
  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  line-height: 1.75;
  font-weight: 500;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  border-radius: 4px;
  text-transform: uppercase;
}
.jss58:hover {
  text-decoration: none;
  background-color: rgba(0, 0, 0, 0.08);
}
.jss58.jss78 {
  color: rgba(0, 0, 0, 0.26);
}
@media (hover: none) {
  .jss58:hover {
    background-color: transparent;
  }
}
.jss58:hover.jss78 {
  background-color: transparent;
}
.jss59 {
  width: 100%;
  display: inherit;
  align-items: inherit;
  justify-content: inherit;
}
.jss60 {
  padding: 6px 8px;
}
.jss61 {
  color: #3f51b5;
}
.jss61:hover {
  background-color: rgba(63, 81, 181, 0.08);
}
@media (hover: none) {
  .jss61:hover {
    background-color: transparent;
  }
}
.jss62 {
  color: #f50057;
}
.jss62:hover {
  background-color: rgba(245, 0, 87, 0.08);
}
@media (hover: none) {
  .jss62:hover {
    background-color: transparent;
  }
}
.jss66 {
  border: 1px solid rgba(0, 0, 0, 0.23);
  padding: 5px 16px;
}
.jss66.jss78 {
  border: 1px solid rgba(0, 0, 0, 0.26);
}
.jss67 {
  color: #3f51b5;
  border: 1px solid rgba(63, 81, 181, 0.5);
}
.jss67:hover {
  border: 1px solid #3f51b5;
  background-color: rgba(63, 81, 181, 0.08);
}
@media (hover: none) {
  .jss67:hover {
    background-color: transparent;
  }
}
.jss68 {
  color: #f50057;
  border: 1px solid rgba(245, 0, 87, 0.5);
}
.jss68:hover {
  border: 1px solid #f50057;
  background-color: rgba(245, 0, 87, 0.08);
}
.jss68.jss78 {
  border: 1px solid rgba(0, 0, 0, 0.26);
}
@media (hover: none) {
  .jss68:hover {
    background-color: transparent;
  }
}
.jss69 {
  color: rgba(0, 0, 0, 0.87);
  box-shadow: 0px 1px 5px 0px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 3px 1px -2px rgba(0,0,0,0.12);
  background-color: #e0e0e0;
}
.jss69.jss77 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
}
.jss69:active {
  box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);
}
.jss69.jss78 {
  color: rgba(0, 0, 0, 0.26);
  box-shadow: none;
  background-color: rgba(0, 0, 0, 0.12);
}
.jss69:hover {
  background-color: #d5d5d5;
}
@media (hover: none) {
  .jss69:hover {
    background-color: #e0e0e0;
  }
}
.jss69:hover.jss78 {
  background-color: rgba(0, 0, 0, 0.12);
}
.jss70 {
  color: #fff;
  background-color: #3f51b5;
}
.jss70:hover {
  background-color: #303f9f;
}
@media (hover: none) {
  .jss70:hover {
    background-color: #3f51b5;
  }
}
.jss71 {
  color: #fff;
  background-color: #f50057;
}
.jss71:hover {
  background-color: #c51162;
}
@media (hover: none) {
  .jss71:hover {
    background-color: #f50057;
  }
}
.jss75 {
  width: 56px;
  height: 56px;
  padding: 0;
  min-width: 0;
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
  border-radius: 50%;
}
.jss75:active {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);
}
.jss76 {
  width: auto;
  height: 48px;
  padding: 0 16px;
  min-width: 48px;
  border-radius: 24px;
}
.jss79 {
  color: inherit;
  border-color: currentColor;
}
.jss80 {
  width: 40px;
  height: 40px;
}
.jss81 {
  padding: 4px 8px;
  min-width: 64px;
  font-size: 0.8125rem;
}
.jss82 {
  padding: 8px 24px;
  font-size: 0.9375rem;
}
.jss83 {
  width: 100%;
}
@media (min-width:0px) and (max-width:599.95px) {
  .jss87 {
    display: none;
  }
}
@media (min-width:0px) {
  .jss88 {
    display: none;
  }
}
@media (max-width:599.95px) {
  .jss89 {
    display: none;
  }
}
@media (min-width:600px) and (max-width:959.95px) {
  .jss90 {
    display: none;
  }
}
@media (min-width:600px) {
  .jss91 {
    display: none;
  }
}
@media (max-width:959.95px) {
  .jss92 {
    display: none;
  }
}
@media (min-width:960px) and (max-width:1279.95px) {
  .jss93 {
    display: none;
  }
}
@media (min-width:960px) {
  .jss94 {
    display: none;
  }
}
@media (max-width:1279.95px) {
  .jss95 {
    display: none;
  }
}
@media (min-width:1280px) and (max-width:1919.95px) {
  .jss96 {
    display: none;
  }
}
@media (min-width:1280px) {
  .jss97 {
    display: none;
  }
}
@media (max-width:1919.95px) {
  .jss98 {
    display: none;
  }
}
@media (min-width:1920px) {
  .jss99 {
    display: none;
  }
}
@media (min-width:1920px) {
  .jss100 {
    display: none;
  }
}
@media (min-width:0px) {
  .jss101 {
    display: none;
  }
}
.jss194 {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1300;
  position: fixed;
}
.jss195 {
  visibility: hidden;
}
.jss183 {
  flex: 0 0 auto;
}
.jss184 {
  top: 0;
  flex: 1 0 auto;
  height: 100%;
  display: flex;
  z-index: 1200;
  outline: none;
  position: fixed;
  overflow-y: auto;
  flex-direction: column;
  -webkit-overflow-scrolling: touch;
}
.jss185 {
  left: 0;
  right: auto;
}
.jss186 {
  left: auto;
  right: 0;
}
.jss187 {
  top: 0;
  left: 0;
  right: 0;
  bottom: auto;
  height: auto;
  max-height: 100%;
}
.jss188 {
  top: auto;
  left: 0;
  right: 0;
  bottom: 0;
  height: auto;
  max-height: 100%;
}
.jss189 {
  border-right: 1px solid rgba(0, 0, 0, 0.12);
}
.jss190 {
  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
}
.jss191 {
  border-left: 1px solid rgba(0, 0, 0, 0.12);
}
.jss192 {
  border-top: 1px solid rgba(0, 0, 0, 0.12);
}
.jss153 {
  fill: currentColor;
  width: 1em;
  height: 1em;
  display: inline-block;
  font-size: 24px;
  transition: fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  user-select: none;
  flex-shrink: 0;
}
.jss154 {
  color: #3f51b5;
}
.jss155 {
  color: #f50057;
}
.jss156 {
  color: rgba(0, 0, 0, 0.54);
}
.jss157 {
  color: #f44336;
}
.jss158 {
  color: rgba(0, 0, 0, 0.26);
}
.jss159 {
  font-size: inherit;
}
.jss160 {
  font-size: 20px;
}
.jss161 {
  font-size: 35px;
}
.jss1 {
  color: #555;
  width: 100%;
  border: 0;
  display: flex;
  padding: 0.625rem 0;
  z-index: unset;
  position: relative;
  flex-flow: row nowrap;
  box-shadow: 0 4px 18px 0px rgba(0, 0, 0, 0.12), 0 7px 10px -5px rgba(0, 0, 0, 0.15);
  transition: all 150ms ease 0s;
  align-items: center;
  border-radius: 3px;
  margin-bottom: 20px;
  justify-content: flex-start;
  background-color: #fff;
}
.jss2 {
  z-index: 1100;
  position: absolute;
}
.jss3 {
  z-index: 1100;
  position: fixed;
}
.jss4 {
  flex: 2;
  width: 100%;
  display: flex;
  flex-wrap: nowrap;
  min-height: 50px;
  margin-left: auto;
  align-items: center;
  padding-left: 15px;
  margin-right: auto;
  padding-right: 15px;
  justify-content: space-between;
}
@media (min-width: 576px) {
  .jss4 {
    max-width: 540px;
  }
}
@media (min-width: 768px) {
  .jss4 {
    max-width: 720px;
  }
}
@media (min-width: 992px) {
  .jss4 {
    max-width: 960px;
  }
}
@media (min-width: 1200px) {
  .jss4 {
    max-width: 1140px;
  }
}
.jss5 {
  flex: 1;
}
.jss6 {
  color: inherit;
  padding: 8px 16px;
  font-size: 18px;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 300;
  line-height: 30px;
  border-radius: 3px;
  text-transform: none;
}
.jss6:hover, .jss6:focus {
  color: inherit;
  background: transparent;
}
.jss7 {
  margin: 20px 10px;
}
.jss8 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(156, 39, 176, 0.46);
  background-color: #F5A800;
}
.jss9 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(0, 188, 212, 0.46);
  background-color: #00acc1;
}
.jss10 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(76, 175, 80, 0.46);
  background-color: #4caf50;
}
.jss11 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(255, 152, 0, 0.46);
  background-color: #ff9800;
}
.jss12 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(244, 67, 54, 0.46);
  background-color: #f44336;
}
.jss13 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(233, 30, 99, 0.46);
  background-color: #e91e63;
}
.jss14 {
  color: #FFFFFF;
  box-shadow: none;
  padding-top: 25px;
  background-color: transparent !important;
}
.jss15 {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 12px -5px rgba(33, 33, 33, 0.46);
  background-color: #212121 !important;
}
.jss16 {
  color: #555;
  border: 0;
  padding: 0.625rem 0;
  box-shadow: 0 4px 18px 0px rgba(0, 0, 0, 0.12), 0 7px 10px -5px rgba(0, 0, 0, 0.15);
  margin-bottom: 20px;
  background-color: #fff !important;
}
.jss17 {
  top: 0;
  left: auto;
  width: 260px;
  right: 0;
  border: none;
  bottom: 0;
  height: 100vh;
  display: block;
  position: fixed;
  box-shadow: 0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2);
  visibility: visible;
  overflow-y: visible;
  border-top: none;
  text-align: left;
  transition: all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1);
  padding-left: 0;
  padding-right: 0px;
  transition-property: top, bottom, width;
  transition-duration: .2s, .2s, .35s;
  transition-timing-function: linear, linear, ease;
}
.jss115 {
  margin: 0;
  padding: 0;
  position: relative;
  list-style: none;
}
.jss116 {
  padding-top: 8px;
  padding-bottom: 8px;
}
.jss117 {
  padding-top: 4px;
  padding-bottom: 4px;
}
.jss118 {
  padding-top: 0;
}
.jss119 {
  width: 100%;
  display: flex;
  position: relative;
  box-sizing: border-box;
  text-align: left;
  align-items: center;
  padding-top: 11px;
  padding-bottom: 11px;
  justify-content: flex-start;
  text-decoration: none;
}
.jss119.jss130, .jss119.jss130:hover, .jss119.jss130:focus {
  background-color: rgba(0, 0, 0, 0.14);
}
.jss120 {
  position: relative;
}
.jss123 {
  padding-top: 8px;
  padding-bottom: 8px;
}
.jss124 {
  align-items: flex-start;
}
.jss125 {
  opacity: 0.5;
}
.jss126 {
  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
  background-clip: padding-box;
}
.jss127 {
  padding-left: 16px;
  padding-right: 16px;
}
.jss128 {
  transition: background-color 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
}
.jss128:hover {
  text-decoration: none;
  background-color: rgba(0, 0, 0, 0.08);
}
.jss128:focus {
  background-color: rgba(0, 0, 0, 0.08);
}
@media (hover: none) {
  .jss128:hover {
    background-color: transparent;
  }
}
.jss129 {
  padding-right: 32px;
}
.jss131 {
  color: #FFFFFF;
  border: none;
  margin: .3125rem 1px;
  cursor: pointer;
  padding: 12px 30px;
  position: relative;
  min-width: auto;
  font-size: 12px;
  min-height: auto;
  box-shadow: 0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12);
  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  text-align: center;
  font-weight: 400;
  will-change: box-shadow, transform;
  line-height: 1.42857143;
  white-space: nowrap;
  touch-action: manipulation;
  border-radius: 3px;
  text-transform: uppercase;
  letter-spacing: 0;
  vertical-align: middle;
  background-color: #999999;
}
.jss131:hover, .jss131:focus {
  color: #FFFFFF;
  box-shadow: 0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2);
  background-color: #999999;
}
.jss131 .fab, .jss131 .fas, .jss131 .far, .jss131 .fal, .jss131 .material-icons {
  top: 0;
  display: inline-block;
  position: relative;
  font-size: 1.1rem;
  margin-right: 4px;
  vertical-align: middle;
}
.jss131 svg {
  top: 0;
  width: 18px;
  height: 18px;
  display: inline-block;
  position: relative;
  margin-right: 4px;
  vertical-align: middle;
}
.jss131.jss152 .fab, .jss131.jss152 .fas, .jss131.jss152 .far, .jss131.jss152 .fal, .jss131.jss152 .material-icons {
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  position: absolute;
  transform: none;
  font-size: 20px;
  line-height: 41px;
  margin-right: 0px;
}
.jss132 {
  width: 100%;
}
.jss133 {
  box-shadow: 0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12);
  background-color: #F5A800;
}
.jss133:hover, .jss133:focus {
  box-shadow: 0 14px 26px -12px rgba(156, 39, 176, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(156, 39, 176, 0.2);
  background-color: #F5A800;
}
.jss134 {
  box-shadow: 0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12);
  background-color: #00acc1;
}
.jss134:hover, .jss134:focus {
  box-shadow: 0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2);
  background-color: #00acc1;
}
.jss135 {
  box-shadow: 0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12);
  background-color: #4caf50;
}
.jss135:hover, .jss135:focus {
  box-shadow: 0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2);
  background-color: #4caf50;
}
.jss136 {
  box-shadow: 0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12);
  background-color: #ff9800;
}
.jss136:hover, .jss136:focus {
  box-shadow: 0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2);
  background-color: #ff9800;
}
.jss137 {
  box-shadow: 0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12);
  background-color: #f44336;
}
.jss137:hover, .jss137:focus {
  box-shadow: 0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2);
  background-color: #f44336;
}
.jss138 {
  box-shadow: 0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12);
  background-color: #e91e63;
}
.jss138:hover, .jss138:focus {
  box-shadow: 0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2);
  background-color: #e91e63;
}
.jss139, .jss139:focus, .jss139:hover, .jss139:visited {
  color: #999999;
  background-color: #FFFFFF;
}
.jss140 {
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(85, 172, 238, 0.14), 0 3px 1px -2px rgba(85, 172, 238, 0.2), 0 1px 5px 0 rgba(85, 172, 238, 0.12);
  background-color: #55acee;
}
.jss140:hover, .jss140:focus, .jss140:visited {
  color: #fff;
  box-shadow: 0 14px 26px -12px rgba(85, 172, 238, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(85, 172, 238, 0.2);
  background-color: #55acee;
}
.jss141 {
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(59, 89, 152, 0.14), 0 3px 1px -2px rgba(59, 89, 152, 0.2), 0 1px 5px 0 rgba(59, 89, 152, 0.12);
  background-color: #3b5998;
}
.jss141:hover, .jss141:focus {
  color: #fff;
  box-shadow: 0 14px 26px -12px rgba(59, 89, 152, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(59, 89, 152, 0.2);
  background-color: #3b5998;
}
.jss142 {
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(221, 75, 57, 0.14), 0 3px 1px -2px rgba(221, 75, 57, 0.2), 0 1px 5px 0 rgba(221, 75, 57, 0.12);
  background-color: #dd4b39;
}
.jss142:hover, .jss142:focus {
  color: #fff;
  box-shadow: 0 14px 26px -12px rgba(221, 75, 57, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(221, 75, 57, 0.2);
  background-color: #dd4b39;
}
.jss143 {
  color: #fff;
  box-shadow: 0 2px 2px 0 rgba(51, 51, 51, 0.14), 0 3px 1px -2px rgba(51, 51, 51, 0.2), 0 1px 5px 0 rgba(51, 51, 51, 0.12);
  background-color: #333333;
}
.jss143:hover, .jss143:focus {
  color: #fff;
  box-shadow: 0 14px 26px -12px rgba(51, 51, 51, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(51, 51, 51, 0.2);
  background-color: #333333;
}
.jss144, .jss144:focus, .jss144:hover, .jss144:visited {
  color: #FFFFFF;
  background: transparent;
  box-shadow: none;
}
.jss144.jss143, .jss144.jss143:focus, .jss144.jss143:hover, .jss144.jss143:visited {
  color: #333333;
}
.jss144.jss142, .jss144.jss142:focus, .jss144.jss142:hover, .jss144.jss142:visited {
  color: #dd4b39;
}
.jss144.jss141, .jss144.jss141:focus, .jss144.jss141:hover, .jss144.jss141:visited {
  color: #3b5998;
}
.jss144.jss140, .jss144.jss140:focus, .jss144.jss140:hover, .jss144.jss140:visited {
  color: #55acee;
}
.jss144.jss137, .jss144.jss137:focus, .jss144.jss137:hover, .jss144.jss137:visited {
  color: #f44336;
}
.jss144.jss138, .jss144.jss138:focus, .jss144.jss138:hover, .jss144.jss138:visited {
  color: #e91e63;
}
.jss144.jss136, .jss144.jss136:focus, .jss144.jss136:hover, .jss144.jss136:visited {
  color: #ff9800;
}
.jss144.jss135, .jss144.jss135:focus, .jss144.jss135:hover, .jss144.jss135:visited {
  color: #4caf50;
}
.jss144.jss134, .jss144.jss134:focus, .jss144.jss134:hover, .jss144.jss134:visited {
  color: #00acc1;
}
.jss144.jss133, .jss144.jss133:focus, .jss144.jss133:hover, .jss144.jss133:visited {
  color: #F5A800;
}
.jss145, .jss145:focus, .jss145:hover, .jss145:visited {
  color: inherit;
  background: transparent;
  box-shadow: none;
}
.jss146 {
  opacity: 0.65;
  pointer-events: none;
}
.jss147 {
  padding: 1.125rem 2.25rem;
  font-size: 0.875rem;
  line-height: 1.333333;
  border-radius: 0.2rem;
}
.jss148 {
  padding: 0.40625rem 1.25rem;
  font-size: 0.6875rem;
  line-height: 1.5;
  border-radius: 0.2rem;
}
.jss149 {
  border-radius: 30px;
}
.jss150 {
  width: 100% !important;
}
.jss151, .jss151:hover, .jss151:focus {
  color: #999999;
  box-shadow: none;
  background-color: transparent;
}
.jss152 {
  width: 41px;
  height: 41px;
  font-size: 20px;
  min-width: 41px;
  padding-left: 12px;
  padding-right: 12px;
}
.jss152 .fab, .jss152 .fas, .jss152 .far, .jss152 .fal, .jss152 svg, .jss152 .material-icons {
  margin-right: 0px;
}
.jss152.jss147 {
  width: 57px;
  height: 57px;
  min-width: 57px;
  line-height: 56px;
}
.jss152.jss148 {
  width: 30px;
  height: 30px;
  min-width: 30px;
}
.jss152.jss148 .fab, .jss152.jss148 .fas, .jss152.jss148 .far, .jss152.jss148 .fal, .jss152.jss148 .material-icons {
  font-size: 17px;
  line-height: 29px;
}
.jss152.jss148 svg {
  width: 17px;
  height: 17px;
}
.jss152.jss147 .fab, .jss152.jss147 .fas, .jss152.jss147 .far, .jss152.jss147 .fal, .jss152.jss147 .material-icons {
  font-size: 32px;
  line-height: 56px;
}
.jss152.jss147 svg {
  width: 32px;
  height: 32px;
}
.jss162 {
  pointer-events: none;
}
.jss163 {
  top: 100%;
  border: 0;
  margin: 2px 0 0;
  z-index: 1000;
  padding: 5px 0;
  min-width: 160px;
  font-size: 14px;
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);
  text-align: left;
  list-style: none;
  border-radius: 3px;
  background-clip: padding-box;
  background-color: #fff;
}
.jss164 {
  padding: 0;
}
.jss165 {
  z-index: 1200;
}
@media (max-width:959.95px) {
  .jss165 {
    float: none;
    width: auto;
    color: black;
    border: 0;
    z-index: 1640;
    position: static;
    margin-top: 0;
    box-shadow: none;
    background-color: transparent;
  }
}
.jss166 {
  clear: both;
  color: #333;
  margin: 0 5px;
  height: fit-content;
  padding: 10px 20px;
  display: block;
  position: relative;
  font-size: 13px;
  transition: all 150ms linear;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.5em;
  white-space: nowrap;
  border-radius: 2px;
}
.jss167:hover {
  color: #fff;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(33, 33, 33, 0.4);
  background-color: #212121;
}
.jss168:hover {
  color: #FFFFFF;
  box-shadow: 0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2);
  background-color: #F5A800;
}
.jss169:hover {
  color: #FFFFFF;
  box-shadow: 0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2);
  background-color: #00acc1;
}
.jss170:hover {
  color: #FFFFFF;
  box-shadow: 0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2);
  background-color: #4caf50;
}
.jss171:hover {
  color: #FFFFFF;
  box-shadow: 0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2);
  background-color: #ff9800;
}
.jss172:hover {
  color: #FFFFFF;
  box-shadow: 0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2);
  background-color: #f44336;
}
.jss173:hover {
  color: #FFFFFF;
  box-shadow: 0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4);
  background-color: #e91e63;
}
.jss174 {
  text-align: right;
}
.jss175 {
  margin: 5px 0;
  height: 1px;
  overflow: hidden;
  background-color: rgba(0, 0, 0, 0.12);
}
.jss176 {
  width: 20px;
  height: 20px;
}
.jss177 {
  width: 0;
  height: 0;
  display: inline-block;
  transition: all 150ms ease-in;
  border-top: 4px solid;
  margin-left: 4px;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  vertical-align: middle;
}
.jss178 {
  transform: rotate(180deg);
}
.jss179 {
  margin-right: 4px;
}
.jss180 {
  color: #777;
  display: block;
  padding: 0.1875rem 1.25rem;
  font-size: 0.75rem;
  margin-top: 10px;
  line-height: 1.428571;
  white-space: nowrap;
  font-weight: inherit;
}
.jss180:hover, .jss180:focus {
  cursor: auto;
  background-color: transparent;
}
.jss181 {
  padding: 0;
}
.jss102 {
  color: inherit;
  margin: 0;
  font-size: 14px;
  list-style: none;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 300;
  line-height: 1.5em;
  padding-top: 0;
  padding-left: 0;
  padding-bottom: 0;
}
.jss103 {
  float: left;
  color: inherit;
  width: auto;
  margin: 0;
  display: block;
  padding: 0;
  position: relative;
}
@media (max-width:959.95px) {
  .jss103 {
    width: 100%;
  }
  .jss103:after {
    width: calc(100% - 30px);
    height: 1px;
    content: "";
    display: block;
    margin-left: 15px;
    background-color: #e5e5e5;
  }
}
.jss104 {
  padding: 0 !important;
}
.jss105 {
  color: inherit;
  margin: 0px;
  padding: 0.9375rem;
  display: inline-flex;
  position: relative;
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
  border-radius: 3px;
  text-transform: uppercase;
  text-decoration: none;
}
.jss105:hover, .jss105:focus {
  color: inherit;
  background: rgba(200, 200, 200, 0.2);
}
@media (max-width:959.95px) {
  .jss105 {
    width: calc(100% - 30px);
    margin-top: 8px;
    text-align: left;
    margin-left: 15px;
    margin-bottom: 8px;
  }
  .jss105 > span:first-child {
    justify-content: flex-start;
  }
}
.jss106 {
  top: 4px;
  color: inherit;
  margin: 0px;
  padding: 0.9375rem;
  display: inline-flex;
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
  text-transform: uppercase;
  text-decoration: none;
}
.jss107 {
  top: 3px;
  margin: 0px;
  display: inline-flex;
  position: relative;
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
  text-transform: uppercase;
  text-decoration: none;
}
.jss108 {
  color: inherit;
  background-color: rgba(255, 255, 255, 0.1);
}
.jss109 {
  width: 20px;
  height: 20px;
  margin-right: 3px;
}
.jss110 {
  position: relative;
  font-size: 20px !important;
  margin-right: 4px;
}
.jss111, .jss111:hover, .jss111:focus {
  color: inherit;
  display: block;
  padding: 10px 20px;
  text-decoration: none;
}
.jss112 {
  color: #555555;
  border: none;
  padding: 10px 15px;
  min-width: 130px;
  max-width: 200px;
  font-size: 0.875em;
  word-wrap: normal;
  background: #FFFFFF;
  box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);
  text-align: center;
  font-style: normal;
  word-break: normal;
  line-break: auto;
  line-height: 1.7em;
  font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
  font-weight: 400;
  text-shadow: none;
  white-space: normal;
  word-spacing: normal;
  border-radius: 3px;
  text-transform: none;
  letter-spacing: normal;
}
.jss113 {
  margin-right: 5px;
}
.jss114 {
  color: white;
  text-decoration: none !important;
}
.jss114:hover, .jss114:focus {
  color: white;
}
@media (max-width:959.95px) {
  .jss114 {
    color: inherit;
  }
}
.jss196 {
  display: flex;
  padding: 20px 80px;
  flex-wrap: wrap;
  flex-direction: column;
  background-color: #ededed;
}
.jss197 {
  display: flex;
  padding: 20px 10px;
  justify-content: center;
}
.jss198 {
  padding: 15px 0;
  text-align: center;
}
.jss199 {
  width: 25%;
  margin: 0 15px;
}
.jss200 {
  color: #425CC7;
  font-size: 12px;
  font-weight: normal;
  text-decoration: none !important;
  background-color: transparent;
}
.jss200:hover {
  color: #2F428E;
}
@media (max-width:959.95px) {
  .jss197 {
    flex-direction: column;
  }
  .jss199 {
    width: 100%;
    margin: 0;
    text-align: center;
  }
}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="icon" href="/favicon-32x32.png?v=ba66386592bb663993e2dec058835a20" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=ba66386592bb663993e2dec058835a20"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=ba66386592bb663993e2dec058835a20"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://aws-otel.github.io/docs/getting-started/prometheus-remote-write-exporter" data-baseprotocol="https:" data-basehost="aws-otel.github.io"/><link as="script" rel="preload" href="/webpack-runtime-063a4838d3c5e297a266.js"/><link as="script" rel="preload" href="/framework-a8da1bd70fda3710049f.js"/><link as="script" rel="preload" href="/f0e45107-62247ddbcaaa245180a2.js"/><link as="script" rel="preload" href="/app-72d5719377e1ed8494c2.js"/><link as="script" rel="preload" href="/545f34e4-e0d91f4c58aa355802b3.js"/><link as="script" rel="preload" href="/5e2a4920-66fee83a10e40c17e487.js"/><link as="script" rel="preload" href="/6cfdb663dc172f0409111798e69bb5521bea0645-0b4e2e8750bf1d8153ff.js"/><link as="script" rel="preload" href="/2ce3b0d7b06daf1e559750bf91a0586a45a8ba55-758805cce0da32d5fa44.js"/><link as="script" rel="preload" href="/2b52a9ec0c5bbc3ae6183118d9bb5cfc545d275b-e97d89e578881cac3af1.js"/><link as="script" rel="preload" href="/5f42379ef902d43f39938610daaf3e13d349761b-7dbd9e5ea9c6a65d9b01.js"/><link as="script" rel="preload" href="/fee088b98314f1c4f60af2da8e30cb2ecdb10dc4-f935cbbf81ed66aec01b.js"/><link as="script" rel="preload" href="/a7629950cb7a18c7593baf47d0acfe798f1cddc4-aa14235f42f87ff443c7.js"/><link as="script" rel="preload" href="/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-45f43de71acbc3b54f55.js"/><link as="fetch" rel="preload" href="/page-data/docs/getting-started/prometheus-remote-write-exporter/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2501019404.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/973074209.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><style data-emotion-css="dcpn0s">*,*::after,*::before{margin:0;padding:0;box-sizing:border-box;}body{font-size:16px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background-color:#FFFFFF;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased;overflow-y:scroll;}h1{font-size:32px;color:#3D3D4D;font-weight:bold;margin-bottom:24px;}h2{font-size:24px;}h3{font-size:18px;}h4{font-size:16px;}h2,h3,h4,h5,h6{color:#3D3D4D;margin:24px 0 16px 0;font-weight:bold;}p{color:#6C6C80;font-size:16px;line-height:28px;margin-bottom:16px;font-weight:400;}code.inline-code{display:inline-block;vertical-align:middle;line-height:1;padding:0.2em;background-color:#44475a;color:rgba(248,248,242);font-size:14px;border-radius:3px;font-feature-settings:'clig' 0,'calt' 0;font-variant:no-common-ligatures no-discretionary-ligatures no-historical-ligatures no-contextual;}h1 code.inline-code,h2 code.inline-code{font-size:calc(100% - 5px);padding:4px;}a{color:#6C6C80;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}blockquote{margin-bottom:16px;width:100%;}blockquote p{padding:1rem;border-radius:5px;background:#fffaf7;color:#6C6C80;margin:0;}hr{border:0;height:0;border-top:1px solid rgba(0,0,0,0.1);border-bottom:1px solid rgba(255,255,255,0.3);}table{border-collapse:separate;border-spacing:0 4px;margin-top:-4px;margin-bottom:16px;width:100%;}table th,table td{margin:0;color:#6C6C80;background-color:#fffaf7;border:solid 1px #fffaf7;border-style:solid none;padding:12px;}table th:first-of-type,table td:first-of-type{border-left-style:solid;border-top-left-radius:5px;border-bottom-left-radius:5px;}table th:last-child,table td:last-child{border-right-style:solid;border-bottom-right-radius:5px;border-top-right-radius:5px;}table tr th{color:#3D3D4D;text-align:left;font-weight:bold;}iframe{margin-bottom:16px;}img{max-width:100%;}ul,ol{color:#6C6C80;padding-left:15px;margin-bottom:16px;}ul li,ol li{line-height:28px;}.gatsby-highlight{font-family:Hack,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;font-variant:no-common-ligatures no-discretionary-ligatures no-historical-ligatures no-contextual;position:relative;z-index:0;margin:0 0 16px 0;overflow:auto;}.gatsby-highlight .token{font-style:normal !important;}pre[class*='language-'] code{font-family:inherit;}pre[class*='language-']::before{background:#d9d7e0;border-radius:0 0 4px 4px;color:#232129;font-size:12px;font-family:inherit;-webkit-letter-spacing:0.075em;-moz-letter-spacing:0.075em;-ms-letter-spacing:0.075em;letter-spacing:0.075em;line-height:1;padding:0.25rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}pre[class~='language-js']::before,pre[class~='language-javascript']::before{content:'js';background:#f7df1e;}pre[class~='language-jsx']::before{content:'jsx';background:#61dafb;}pre[class~='language-typescript']::before,pre[class~='language-ts']::before{content:'ts';background:#294e80;color:#fff;}pre[class~='language-tsx']::before{content:'tsx';background:#294e80;color:#fff;}pre[class~='language-graphql']::before{content:'GraphQL';background:#e10098;color:#fff;}pre[class~='language-html']::before{content:'html';background:#005a9c;color:#fff;}pre[class~='language-css']::before{content:'css';background:#ff9800;color:#fff;}pre[class~='language-mdx']::before{content:'mdx';background:#f9ac00;color:#fff;}pre[class~='language-shell']::before{content:'shell';}pre[class~='language-sh']::before{content:'sh';}pre[class~='language-bash']::before{content:'bash';}pre[class~='language-yaml']::before,pre[class~='language-yml']::before{content:'yaml';background:#ffa8df;}pre[class~='language-markdown']::before{content:'md';}pre[class~='language-json']::before,pre[class~='language-json5']::before{content:'json';background:linen;}pre[class~='language-diff']::before{content:'diff';background:#e6ffed;}pre[class~='language-text']::before{content:'text';background:#fff;}pre[class~='language-flow']::before{content:'flow';background:#e8bd36;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="background-color:white"><header class="jss27 jss33 jss18 jss19 jss25 mui-fixed jss1 jss15"><div class="jss54 jss56 jss55 jss4"><div class="jss5"><a href="/"><button class="jss84 jss58 jss60 jss63 jss6" tabindex="0" type="button"><span class="jss59"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAQKADAAQAAAABAAAAQAAAAABGUUKwAAAFLklEQVR4Ae2ZX+hURRTHNctU+uNDGkHpr6Aowcg/L1Yg/SGEsh4ijCL686QJUhEEYS9JEoYkglDRQ5E9RPUQYT2pWUFWLxmBiGGEZZgJKWJW1vg5d88sc2fvn7mze3f3/rgDZ8+c/98z9+7dubNTprSjXYF2BdoVaFegXYF2BdoVmAQrYIyZAT0F7YWOQ/7YMQnazG6BTi+CvvI79uXs6EmgpdFXtNlD8JXQHLcttRlX15g54HfYBgL4oqzGbJxvm+orxlEW8KG4pjKyfG0O336+75zn6PsVyeRYhv156Ebo0iLfKjYfvBtrcbu6kHnPAoQEFfkAZDH2PdAFRX5ja5OVlBELkNB3kwTGbINfHJvHjdN8hZjKfMrs3XrBjt2I9IT4g5pjQdoSL4VgKvPJs+d+BSQgHnIS+VOf8UMJP6/GKmdqzD2w1Ll3QNETt6i6vXOI7/cOKiozMFudd0AQSBbsQmh+kHMNTiNfAHp6C5Lt60019Fc9pdzCMqpHdiI60WHx+M6ETmvMxryaVXJWzZF7B9iiVbkFQFzmltTald8Bn6nzezzbUMTcBRhA9RkBOdymF7Jo8wJi6nWxVzy2CvHBGyF8D2u9/crXZNVVW/TXUnLm5ajjDvhGm1hL0dytMDZ56F0J/Qpt0hj3jlDVkFneSoXCIH4x9LfNk8UlF/r1ansdPhf6H5IH4iy1M02PUAxZfjZTli2lC3ZMRaUFciyDPoZ+hv70SbzRybmdjJU5csfqfKarVJNsmmpRNXkDRq74f9BfkL3iLzCX8ZpftqMO+vzUj7WyjbbySDlgHlNA3VNa5EWqO+yDQ1/bkZhfaygyDX2gzaae+uh+UX3lXSFx7qHovchz3WY0b1+/JG6+6DlApkMnFVDqdx+dPBBlrK9agJhmHIsD9E7pkLHPbxKdHGfL2OvbQmTixv+PEUBukQ4ZL/lNoZsFyYNRHpCpc33ft7Eyjf0IyZCT456B/pPEasyjPcamK2jsem3uGDxzF4r+SfV5v1H9AnoFtBOayAOO7VlIxtsFPvMTD2NOwJtztA7YrxX4mwXNfaY+D+T5iB6f79VPXpfHfwD2GgUsTB5il/mo0c2G/oX+gS7x7a6MfSMk41VXX8c883sYUWiVEyPnAKsd2U5XMJFD2C84MD1plTnc7hDvzrGPl5ortS+5XsZsVn4Envr+Im9X29Nl6PGbBv2h/teV+Y/UDsgbFOhxuOzy7Pf3YQsMnTQkdhnXWn0Rx++dxNuYZ4r8Rm4D5IsK9A0Bw/wJlb+14JBvVd0Bqyvj+K/SmF1Zvth2qb2UZcUPTEf1A4rgdknKXLajv6vuFtW9rPLm0ML4uw/N1F/s2JZoviAWWrOyH9Xl9EfGb1D3gcp8gygZyWYG/kMiGXNblSLE7Na41M8mOnvXbauSb+C+ANmkALe6ydFdAcnP3VloOSRDToZy/4pz4+0c/8yNE/rvIBl3Wd+B8k7uSp83+wCItg8x+47/nu9TJpOjZ+uMbkKRyU5xelmOKLsWCGW7cez5EwTdUi/BIzFgyJF6eUJep3krL2hM/b5iAPqlgpXX257dYUhy4rZojuT1mbm8b8h4KCR+pD6AvD+BasznsUCI7x6gMLe/DLKlnh2bc6hxAH0Qujq2KLHuEdpzyDJ2xuZrZBwNf5i0bcwp5esa2UgsaJp+XBu3bCI2VyPj6PpySP46k9FzmNpPU93dWz9J6o7l9fkoNey7xUd11xvL/Fz5+6A90FVjCbAF1a5AuwLtCrQr0K5A81bgHMnPdFhHxtaUAAAAAElFTkSuQmCC" alt="..." style="height:60px;width:70px"/></span></button></a></div><div class="jss92"><ul class="jss115 jss116 jss102"><li class="jss119 jss122 jss127 jss103"><a class="jss114" href="/"><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button"><span class="jss59"><svg class="jss153 jss109" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg> Home</span></button></a></li><li class="jss119 jss122 jss127 jss103"><div><div><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button" aria-label="Notifications" aria-haspopup="true"><span class="jss59"><svg class="jss153 jss176" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg>About<b class="jss177"></b></span></button></div></div></li><li class="jss119 jss122 jss127 jss103"><div><div><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button" aria-label="Notifications" aria-haspopup="true"><span class="jss59"><svg class="jss153 jss176" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path fill="none" d="M0 0h24v24H0z"></path><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></svg>Community<b class="jss177"></b></span></button></div></div></li><li class="jss119 jss122 jss127 jss103"><a class="jss114" href="/docs/introduction"><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button"><span class="jss59"><svg class="jss153 jss109" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path fill="none" d="M0 0h24v24H0z"></path><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"></path></svg> Documentation</span></button></a></li><li class="jss119 jss122 jss127 jss103"><a href="https://github.com/aws-observability" class="jss114" target="_blank" rel="noopener noreferrer"><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button" href=""><span class="jss59"><svg class="jss153 jss109" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"></path></svg> Code on GitHub</span></button></a></li><li class="jss119 jss122 jss127 jss103" style="margin-right:20px"><a class="jss114" href="/search"><button class="jss84 jss58 jss60 jss63 jss131 jss145 jss105" tabindex="0" type="button" href=""><span class="jss59"><svg class="jss153 jss109" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path><path fill="none" d="M0 0h24v24H0z"></path></svg> Search</span></button></a></li><li class="jss119 jss122 jss127 jss103"><a class="jss114" href="/download"><button class="jss84 jss58 jss60 jss63 jss131 jss133" tabindex="0" type="button" href="" style="color:black"><span class="jss59"><svg class="jss153 jss109" focusable="false" viewBox="0 0 24 24" aria-hidden="true" role="presentation"><path fill="none" d="M0 0h24v24H0z"></path><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></svg> Download</span></button></a></li></ul></div></div><div class="jss94"></div></header><style data-emotion-css="7gspsd">.css-7gspsd::after{content:'';position:fixed;width:100%;height:100%;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.8);z-index:999;display:none;}</style><div aria-label="Close menu" class="css-7gspsd"></div><style data-emotion-css="1i3ij69">.css-1i3ij69{width:100%;max-width:1400px;margin:0 auto;padding:0 24px;display:grid;grid-template-columns:280px calc(100% - 320px);grid-auto-flow:row;grid-gap:40px;}@media (max-width:780px){.css-1i3ij69{padding:24px;grid-template-columns:100%;}}</style><div class="css-1i3ij69 e5jhkut0"><style data-emotion-css="1hhg3qk">.css-1hhg3qk{width:300px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;padding-top:36px;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;height:100%;}.css-1hhg3qk nav{width:100%;padding-top:24px;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;-webkit-flex:1;-ms-flex:1;flex:1;}@media (max-width:780px){.css-1hhg3qk{height:calc(100vh - 210px);overflow-y:auto;max-width:75%;min-width:auto;z-index:1001;position:fixed;top:0;bottom:0;left:0;padding-top:32px;background:#FFFFFF;-webkit-transform:translate3d( -100%,0,0 );-ms-transform:translate3d( -100%,0,0 );transform:translate3d( -100%,0,0 );}}</style><aside class="css-1hhg3qk evgz9d10"><nav><style data-emotion-css="mbmci8">.css-mbmci8{list-style:none;width:100%;padding-left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><ul class="css-mbmci8 evgz9d12"><style data-emotion-css="1kom000">.css-1kom000{font-size:15px;width:100%;-webkit-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out;padding:0 20px;cursor:pointer;}.css-1kom000 a,.css-1kom000 span{display:block;font-size:15px;color:#6C6C80;background-color:#FFFFFF;padding:4px 10px;margin:4px 0;border-radius:4px;font-weight:normal;-webkit-text-decoration:none;text-decoration:none;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;margin:0 auto;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}.css-1kom000 a svg,.css-1kom000 span svg{width:20px;height:20px;margin-right:10px;}.css-1kom000 a:not(.active-link):hover,.css-1kom000 span:not(.active-link):hover{color:#F5A880;}.css-1kom000 a.active-link,.css-1kom000 span.active-link{color:#F5A880;background-color:#fffaf7;}@media (max-width:780px){.css-1kom000 a.active-link,.css-1kom000 span.active-link{background:#fffaf7;}}</style><li class="css-1kom000 evgz9d14"><a href="/docs/introduction">Introduction</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/releases">Releases</a></li><li class="css-1kom000 evgz9d14"><a href="/download">Downloads</a></li><style data-emotion-css="mximbs">.css-mximbs{padding-left:30px;width:100%;text-transform:uppercase;font-size:14px;font-weight:bold;margin-top:20px;color:#3D3D4D;-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;}</style><li class="css-mximbs evgz9d13">Getting started</li><style data-emotion-css="157nhwy">.css-157nhwy{list-style:none;width:100%;padding-left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:5px 0 0 0;}</style><ul class="css-157nhwy evgz9d15"><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/collector">Collector</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/go-sdk">Go</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/java-sdk">Java</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/javascript-sdk">JavaScript</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/python-sdk">Python</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/lambda">Lambda for Python</a></li><li class="css-1kom000 evgz9d14"><a aria-current="page" class="active-link" href="/docs/getting-started/prometheus-remote-write-exporter">Prometheus (AMP)</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/advanced-prometheus-remote-write-configurations">Prometheus Configurations</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/cloudwatch-metrics">CloudWatch Metrics</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/x-ray">X-Ray</a></li></ul><li class="css-mximbs evgz9d13">Setup</li><ul class="css-157nhwy evgz9d15"><li class="css-1kom000 evgz9d14"><a href="/docs/setup/permissions">Permissions</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/docker-images">Docker Images</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/ecs">ECS</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/ec2">EC2</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/eks">EKS</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/on-premises">On-Premises</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/build-collector-as-debian">Debian</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/build-collector-as-rpm">RPM</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/setup/build-collector-on-windows">MS-Windows</a></li></ul><li class="css-mximbs evgz9d13">Components</li><ul class="css-157nhwy evgz9d15"><li class="css-1kom000 evgz9d14"><a href="/docs/components/otlp-exporter">OTLP Exporters</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/components/prometheus-exporters">Prometheus Exporters</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/cloudwatch-metrics#cloudwatch-emf-exporter-awsemf">CloudWatch EMF Exporter</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/getting-started/x-ray#configuring-the-aws-x-ray-exporter">X-Ray Exporter</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/components/misc-exporters#logging-exporter">Logging Exporter</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/components/misc-exporters#file-exporter">File Exporter</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/components/ecs-metrics-receiver">ECS Container Metrics Receiver</a></li><li class="css-1kom000 evgz9d14"><a href="/docs/components/x-ray-receiver">X-Ray Receiver</a></li></ul><li class="css-mximbs evgz9d13">Know Your Data</li><ul class="css-157nhwy evgz9d15"><li class="css-1kom000 evgz9d14"><a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/overview.md" rel="noopener noreferrer">Traces<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;margin-left:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-1kom000 evgz9d14"><a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/overview.md" rel="noopener noreferrer">Metrics<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;margin-left:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li></ul><li class="css-mximbs evgz9d13">Other</li><ul class="css-157nhwy evgz9d15"><li class="css-1kom000 evgz9d14"><a href="https://aws.amazon.com/otel/faqs/" rel="noopener noreferrer">FAQ<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;margin-left:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-1kom000 evgz9d14"><a href="https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/glossary.md" rel="noopener noreferrer">Glossary<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;margin-left:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><li class="css-1kom000 evgz9d14"><a href="/resources">Resources</a></li></ul></ul></nav></aside><style data-emotion-css="19vacph">.css-19vacph{height:100%;padding-top:36px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;position:relative;}@media (max-width:1200px){.css-19vacph{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media (max-width:780px){.css-19vacph{padding-top:0;}}</style><main class="css-19vacph e5jhkut1"><style data-emotion-css="9q3p0l">.css-9q3p0l{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;margin-bottom:24px;}.css-9q3p0l h2{margin:0;border:none;padding:0;font-size:18px;}@media (max-width:359px){.css-9q3p0l h2{font-size:14px;}}.css-9q3p0l button{border:none;background:none;cursor:pointer;margin-right:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width:780px){.css-9q3p0l{display:none;}}</style><header class="css-9q3p0l e1vsufh70"><button aria-label="Open sidebar" type="button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" size="23" aria-hidden="true" height="23" width="23" xmlns="http://www.w3.org/2000/svg"><path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path></svg></button><h2>AWS Open Distro for OpenTelemetry</h2></header><style data-emotion-css="enx1eb">.css-enx1eb{display:none;}@media (max-width:1200px){.css-enx1eb{display:block;}}</style><h1 class="css-enx1eb">Getting Started with Prometheus Remote Write Exporter for AMP</h1><style data-emotion-css="1ehkd4h">.css-1ehkd4h{width:100%;max-width:calc(75% - 64px);padding-right:64px;}@media (max-width:1200px){.css-1ehkd4h{max-width:100%;padding-right:0;-webkit-order:3;-ms-flex-order:3;order:3;}}</style><div class="css-1ehkd4h e5jhkut2"><style data-emotion-css="1n3b8my">@media (max-width:1200px){.css-1n3b8my{display:none;}}</style><h1 class="css-1n3b8my">Getting Started with Prometheus Remote Write Exporter for AMP</h1><p>In order to scrape and export metrics to your AWS Managed Service for Prometheus (AMP) instance, you can use either the AWS Distro for
the OpenTelemetry Collector (ADOT Collector) or a standard vanilla Prometheus server.</p><p>In this Getting Started guide, we’ll show you how to configure the ADOT Collector to scrape from a Prometheus-instrumented application,
and send metrics to the AWS Managed Service for Prometheus (AMP).</p><div><br/><hr/><br/></div><h2 id="before-you-begin" style="position:relative"><a href="#before-you-begin" aria-label="before you begin permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Before you Begin</h2><p>The ADOT-AMP pipeline enables us to use the ADOT Collector to scrape a Prometheus-instrumented application, and send the scraped metrics
to AWS Managed Service for Prometheus (AMP). </p><img src="/static/Prometheus_Pipeline-07344e5466b05299cff41d09a603e479.png" alt="Diagram" style="margin:30px 0"/><p>The ADOT-AMP pipeline includes two OpenTelemetry Collector components specific to Prometheus — the Prometheus Receiver and the AWS Prometheus
Remote Write Exporter. </p><div><br/><hr/><br/></div><h2 id="service-discovery" style="position:relative"><a href="#service-discovery" aria-label="service discovery permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Service Discovery</h2><p>The Prometheus Receiver can be configured using your existing
<a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/">Prometheus configurations</a> to perform service discovery and metric
scraping. There are many possible configurations to discover monitored targets including Kubernetes service discovery (kubernetes_sd_config)
and static hosts (static_config). Note that the Prometheus Receiver will scrape metrics in the Prometheus exposition format. Any applications
or endpoints that you want to scrape should be configured with the Prometheus client library.</p><p>The AWS Prometheus Remote Write Exporter will use the remote_write endpoint to send the scraped metrics to an AMP instance. The HTTPs requests
used to export data will be signed with <a href="https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html">AWS SigV4</a>, AWS’
authentication protocol for secure authentication.</p><div><br/><hr/><br/></div><h2 id="basic-eks-configuration-for-amp" style="position:relative"><a href="#basic-eks-configuration-for-amp" aria-label="basic eks configuration for amp permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic EKS Configuration for AMP</h2><p>Now, we&#x27;ll enable Prometheus collection on an EKS cluster. In this scenario, we will use the Prometheus Receiver to perform service discovery in
an EKS cluster and metric scraping. We will scrape from an application that provides us with some example Prometheus metrics.</p><p>For information about advanced configurations and how to scrape Kubernetes infrastructure with the ADOT Collector-AMP pipeline, please take a look
<a href="/docs/getting-started/advanced-prometheus-remote-write-configurations">here</a></p><div style="height:15px"></div><h3 id="prerequisites" style="position:relative"><a href="#prerequisites" aria-label="prerequisites permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prerequisites</h3><p>Before getting started, you will need to set up the following components:</p><ul><li>An AMP workspace should be set up. Guides for this can be found <a href="https://docs.aws.amazon.com/prometheus/latest/userguide/what-is-Amazon-Managed-Service-Prometheus.html">here</a>. </li><li>AWS credentials from any of the options in the <a href="https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html">default AWS credentials chain</a>.</li><li>A Kubernetes or EKS cluster. If you need to set up an EKS cluster, please use the following <a href="https://docs.aws.amazon.com/eks/latest/userguide/getting-started-eksctl.html">guide</a>.
You can check the name of the active context/cluster using this command <code class="inline-code">kubectl config current-context</code>.</li></ul><div style="height:15px"></div><h3 id="sample-app" style="position:relative"><a href="#sample-app" aria-label="sample app permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sample App</h3><p>We will be using a simple sample app that is used for the integration tests of this pipeline. You can find the sample app <a href="https://github.com/aws-observability/aws-otel-community">here</a>.</p><p>First, fork the repository. Then clone the repository and run the following commands:</p><div class="gatsby-highlight"><style data-emotion-css="1b0o4ir">.css-1b0o4ir{text-align:left;padding:2rem 1rem 1rem 1rem;overflow:auto;white-space:pre;word-spacing:normal;word-break:normal;border-radius:5px;-webkit-overflow-scrolling:touch;overflow-wrap:break-word;box-shadow:1px 1px 20px rgba(20,20,20,0.27);}.css-1b0o4ir code{float:left;min-width:100%;padding-right:1rem;}.css-1b0o4ir .token-line{line-height:22px;font-size:14px;min-width:100%;}.css-1b0o4ir .highlight-line{background-color:#44475a;margin-left:-1rem;margin-right:-2rem;padding:0 0.75rem;border-left:4px solid #F5A880;}</style><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><style data-emotion-css="olylrv">.css-olylrv{position:absolute;top:0;right:0;z-index:1;border-radius:0 5px 0 5px;padding:0.25rem 0.6rem;border:none;cursor:pointer;background:#44475a;color:rgb(248,248,242);-webkit-transition:all 200ms ease;transition:all 200ms ease;font-size:12px;}.css-olylrv:disabled{cursor:not-allowed;}.css-olylrv:not(:disabled):hover,.css-olylrv:not(:disabled):focus{background:#F5A880;}</style><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> ./sample-apps/prometheus</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ docker build </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">.</span><span class="token plain"> -t prometheus-sample-app:latest</span></div></code></pre></div><p>In order to use this Docker image for Kubernetes, we need to push this image to a registry. You will need to push your image to your Amazon ECR or DockerHub registry. </p><p>To deploy the sample app in EKS, copy this Kubernetes configuration and apply it. Make sure to use the latest image that was pushed.</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> https://raw.githubusercontent.com/aws-observability/aws-otel-collector/main/examples/eks/prometheus-pipeline/prometheus-sample-app.yaml -o prometheus-sample-app.yaml</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl apply -f prometheus-sample-app.yaml</span></div></code></pre></div><p>You can use the following command to verify that the sample app has started:</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl get all -n aoc-prometheus-pipeline-demo</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">NAME                                        READY   STATUS    RESTARTS   AGE</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">pod/prometheus-sample-app-6bfd56b57-8mzsb   </span><span class="token number">1</span><span class="token plain">/1     Running   </span><span class="token number">0</span><span class="token plain">          15m</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">NAME                                    TYPE       CLUSTER-IP      EXTERNAL-IP   PORT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">S</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">          AGE</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">service/prometheus-sample-app-service   NodePort   </span><span class="token number">10.100</span><span class="token plain">.246.31   </span><span class="token operator">&lt;</span><span class="token plain">none</span><span class="token operator">&gt;</span><span class="token plain">        </span><span class="token number">8080</span><span class="token plain">:31653/TCP   15m</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">NAME                                    READY   UP-TO-DATE   AVAILABLE   AGE</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">deployment.apps/prometheus-sample-app   </span><span class="token number">1</span><span class="token plain">/1     </span><span class="token number">1</span><span class="token plain">            </span><span class="token number">1</span><span class="token plain">           15m</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">NAME                                              DESIRED   CURRENT   READY   AGE</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">replicaset.apps/prometheus-sample-app-6bfd56b57   </span><span class="token number">1</span><span class="token plain">         </span><span class="token number">1</span><span class="token plain">         </span><span class="token number">1</span><span class="token plain">       15m</span></div></code></pre></div><p>Any applications that you want to scrape should be instrumented with a <a href="https://prometheus.io/docs/instrumenting/clientlibs/">Prometheus client</a>
(this exposes Prometheus exposition metrics to a <code class="inline-code">/metrics</code> endpoint). This is done in the sample app as well.</p><div style="height:15px"></div><h3 id="aws-distro-for-opentelemetry-adot-collector-setup" style="position:relative"><a href="#aws-distro-for-opentelemetry-adot-collector-setup" aria-label="aws distro for opentelemetry adot collector setup permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AWS Distro for OpenTelemetry (ADOT) Collector Setup</h3><p>To start a default instance of the Collector, we have provided an example template configuration. You will have to change the “endpoint” and
“region” to correspond with your own AMP workspace. The changes should be with respect to the AWS Prometheus Remote Write Exporter’s configuration. </p><p>For Example:</p><div class="gatsby-highlight"><pre class="prism-code language-yaml css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><style data-emotion-css="lg150y">.css-lg150y{display:inline-block;width:2rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;}</style><span class="css-lg150y eiqe2b56">1</span><span class="token key atrule">exporters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">2</span><span class="token plain">  </span><span class="token key atrule">awsprometheusremotewrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">3</span><span class="token plain">    </span><span class="token key atrule">endpoint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://aps-workspaces.us-west-2.amazonaws.com/workspaces/ws-d26e36bf-361j-480c-94f0-54bd7370f997/api/v1/remote_write&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">4</span><span class="token plain">    </span><span class="token key atrule">aws_auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">5</span><span class="token plain">      </span><span class="token key atrule">service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;aps&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">6</span><span class="token plain">      </span><span class="token key atrule">region</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;us-west-2&quot;</span></div></code></pre></div><p>We will use an example Kubernetes configuration template from the aws-otel-collector repository in order to deploy the ADOT Collector.</p><p><em>Note: in this example, the ADOT Collector configurations uses Prometheus’s Kubernetes service discovery in order to automatically find
the sample app endpoint. An annotation (scrape=true) is used to determine which target endpoints to scrape. (This allows the ADOT Collector
to distinguish between our sample app endpoint from kube-system endpoints within your cluster.) Feel free to remove this from the relabel
configurations if you would like to scrape a different application.</em></p><p>To pull the Kubernetes configuration for ADOT Collector:</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> https://raw.githubusercontent.com/aws-observability/aws-otel-collector/main/examples/eks/prometheus-pipeline/eks-prometheus-sidecar.yaml -o eks-prometheus-sidecar.yaml</span></div></code></pre></div><p>Now, to deploy the ADOT Collector in EKS, apply this Kubernetes config:</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl apply -f eks-prometheus-sidecar.yaml</span></div></code></pre></div><p>You can verify that the ADOT Collector has started with this command:</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl get pods -n adot-col</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">NAMESPACE              NAME                                         READY   STATUS             RESTARTS   AGE</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">adot-col               adot-collector-7bc7c                         </span><span class="token number">1</span><span class="token plain">/1     Running            </span><span class="token number">0</span><span class="token plain">          3m17s</span></div></code></pre></div><div style="height:15px"></div><h3 id="verifying-the-pipeline-works" style="position:relative"><a href="#verifying-the-pipeline-works" aria-label="verifying the pipeline works permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Verifying the Pipeline Works</h3><p>The logging exporter can be used to verify that metrics were scraped by the Prometheus Receiver. This example is already hooked up with the
logging exporter. You can check the logs with these commands:</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl get pods -A</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl logs -n adot-col </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">name_of_your_adot_collector_pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span></div></code></pre></div><p>An example of the scraped metrics in the logging exporter:</p><div class="gatsby-highlight"><style data-emotion-css="ui5s77">.css-ui5s77{text-align:left;padding:1rem 1rem 1rem 1rem;overflow:auto;white-space:pre;word-spacing:normal;word-break:normal;border-radius:5px;-webkit-overflow-scrolling:touch;overflow-wrap:break-word;box-shadow:1px 1px 20px rgba(20,20,20,0.27);}.css-ui5s77 code{float:left;min-width:100%;padding-right:1rem;}.css-ui5s77 .token-line{line-height:22px;font-size:14px;min-width:100%;}.css-ui5s77 .highlight-line{background-color:#44475a;margin-left:-1rem;margin-right:-2rem;padding:0 0.75rem;border-left:4px solid #F5A880;}</style><pre class="prism-code language- css-ui5s77 eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">Resource labels:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; service.name: STRING(kubernetes-service-endpoints)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; host.name: STRING(192.168.16.238)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; port: STRING(8080)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; scheme: STRING(http)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">InstrumentationLibraryMetrics #0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Metric #0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Descriptor:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; Name: test_gauge0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; Description: This is my gauge</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; Unit: </span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">     -&gt; DataType: DoubleGauge</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">DoubleDataPoints #0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">StartTime: 0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Timestamp: 1606511460471000000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">Value: 0.000000</span></div></code></pre></div><p>In order to test if AMP received those metrics, we can use the awscurl. This tool allows us to send HTTPs requests through the command line with AWS
Sigv4 authentication. In order to use this, make sure you have set the correct permissions to query from AMP in your local AWS credentials. Please use
this guide to <a href="https://github.com/okigan/awscurl">install awscurl</a>.</p><p>You can use the following command below to check if a metric was received in AMP. The region and <code class="inline-code">AMP_ENDPOINT</code> will have to be changed
corresponding to your AMP workspace.</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ awscurl --service</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;aps&quot;</span><span class="token plain"> --region</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;region&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://{AMP_ENDPOINT}/api/v1/query?query=adot_test_gauge0&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;status&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;success&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;data&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;resultType&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;vector&quot;</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;result&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;metric&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;__name__&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;adot_test_gauge0&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;value&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1606512592.493</span><span class="token plain">,</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;16.87214000011479&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></code></pre></div><p><em>Note</em>: <em>we added a <code class="inline-code">namespace: adot</code> value in the ADOT Collector yaml file to prefix each metric that is exported by ADOT Collector with <code class="inline-code">adot_</code>. </em></p><div style="height:15px"></div><h3 id="it-works" style="position:relative"><a href="#it-works" aria-label="it works permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>It Works!</h3><p>If you receive a metric as the response, that means your pipeline setup is successful! This metric has successfully propagated from the sample app into AMP. </p><p>Similar pipelines can be configured using the components mentioned above to scrape your Kubernetes cluster and applications. Please refer below for advanced configurations.</p><div style="height:15px"></div><h3 id="cleaning-up" style="position:relative"><a href="#cleaning-up" aria-label="cleaning up permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cleaning up</h3><p>Run the following commands to clean up your EKS cluster.</p><div class="gatsby-highlight"><pre class="prism-code language-bash css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl delete namespace aoc-prometheus-pipeline-demo</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">$ kubectl delete namespace adot-col</span></div></code></pre></div><div><br/><hr/><br/></div><h2 id="components-in-our-pipeline" style="position:relative"><a href="#components-in-our-pipeline" aria-label="components in our pipeline permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Components in our Pipeline</h2><h4 id="prometheus-receiver" style="position:relative"><a href="#prometheus-receiver" aria-label="prometheus receiver permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prometheus Receiver</h4><p>The Prometheus Receiver supports the full set of Prometheus scraping and re-labeling configurations described
<a href="http://prometheus.io/docs/prometheus/latest/configuration/configuration/">here</a>. You should be able to directly paste in these configurations into your
ADOT Collector configurations. </p><p>The configuration for the Prometheus Receiver will include your service discovery, scraping configurations, and re-labeling configurations. The
receiver configurations will look like this:</p><div class="gatsby-highlight"><pre class="prism-code language-yaml css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">1</span><span class="token key atrule">receivers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">2</span><span class="token plain">  </span><span class="token key atrule">prometheus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">3</span><span class="token plain">    </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">4</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Your Prometheus configurations</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span></div></code></pre></div><p>An example configuration is shown below. </p><div class="gatsby-highlight"><pre class="prism-code language-yaml css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">1</span><span class="token key atrule">receivers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">2</span><span class="token plain">  </span><span class="token key atrule">prometheus</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">3</span><span class="token plain">    </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">4</span><span class="token plain">      </span><span class="token key atrule">global</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">5</span><span class="token plain">        </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 1m</span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">6</span><span class="token plain">        </span><span class="token key atrule">scrape_timeout</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> 10s</span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">7</span><span class="token plain">        </span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">8</span><span class="token plain">      </span><span class="token key atrule">scrape_configs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">9</span><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">job_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> kubernetes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">endpoints</span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">10</span><span class="token plain">        </span><span class="token key atrule">sample_limit</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">10000</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">11</span><span class="token plain">        </span><span class="token key atrule">kubernetes_sd_configs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">12</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">role</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> endpoints</span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">13</span><span class="token plain">        </span><span class="token key atrule">tls_config</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">14</span><span class="token plain">          </span><span class="token key atrule">ca_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /var/run/secrets/kubernetes.io/serviceaccount/ca.crt</span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">15</span><span class="token plain">          </span><span class="token key atrule">insecure_skip_verify</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">16</span><span class="token plain">        </span><span class="token key atrule">bearer_token_file</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> /var/run/secrets/kubernetes.io/serviceaccount/token</span></div></code></pre></div><p><strong>Note:</strong> To perform Kubernetes service discovery, you will need to set up the proper permissions and RBAC authorization for the service account
(to allow it to access the Kubernetes API). Please refer to the Permissions section in the
<a href="/docs/getting-started/advanced-prometheus-remote-write-configurations">advanced configurations doc</a>.</p><p><strong>Note: If you have existing Prometheus configurations, you will need to replace the <code class="inline-code">$</code> characters with <code class="inline-code">$$</code> to avoid having the value replaced with environment variables. </strong>
This is especially important for the <code class="inline-code">replacement</code> value of the relabel_configurations. For instance, the following configuration for relabel_configurations below </p><div class="gatsby-highlight"><pre class="prism-code language- css-ui5s77 eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">relabel_configs:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">- source_labels: [__meta_kubernetes_ingress_scheme,__address__,__meta_kubernetes_ingress_path]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  regex: (.+);(.+);(.+)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  replacement: ${1}://${2}${3}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  target_label: __param_target</span></div></code></pre></div><p>would become </p><div class="gatsby-highlight"><pre class="prism-code language- css-ui5s77 eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">relabel_configs:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">- source_labels: [__meta_kubernetes_ingress_scheme,__address__,__meta_kubernetes_ingress_path]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  regex: (.+);(.+);(.+)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  replacement: $${1}://${2}${3}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  target_label: __param_target</span></div></code></pre></div><h4 id="aws-prometheus-remote-write-exporter" style="position:relative"><a href="#aws-prometheus-remote-write-exporter" aria-label="aws prometheus remote write exporter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>AWS Prometheus Remote Write Exporter</h4><p>The configuration for the AWS Prometheus Remote Write Exporter is a lot simpler than the Prometheus receiver. At this stage in the pipeline, metrics
have already been ingested, and we’re ready to export this data to AMP. The minimum requirement for a successful configuration to communicate with AMP is as follows:</p><div class="gatsby-highlight"><pre class="prism-code language-yaml css-1b0o4ir eiqe2b50" style="color:#F8F8F2;background-color:#282A36"><button class="css-olylrv eiqe2b57">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">1</span><span class="token key atrule">exporters</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">2</span><span class="token plain">  </span><span class="token key atrule">awsprometheusremotewrite</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">3</span><span class="token plain">    </span><span class="token key atrule">endpoint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://aws-managed-prometheus-endpoint/v1/api/remote_write&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">4</span><span class="token plain">    </span><span class="token key atrule">aws_auth</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">5</span><span class="token plain">      </span><span class="token key atrule">service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;aps&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="css-lg150y eiqe2b56">6</span><span class="token plain">      </span><span class="token key atrule">region</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user-region&quot;</span></div></code></pre></div><p>This configuration sends an HTTPS request that is signed by AWS SigV4 using the credentials that are set up from the prerequisites section. It is
mandatory that customers specify the service to be “aps”</p><p>Regardless of the method of deployment, the ADOT Collector must have access to one of the listed options in the
<a href="https://docs.aws.amazon.com/sdk-for-go/v1/developer-guide/configuring-sdk.html">default AWS credentials chain</a>. The AWS Prometheus Remote Write
Exporter depends on the AWS Go SDK and uses it to fetch credentials and authenticate. You must ensure that these credentials have remote writing
permissions to AMP (<code class="inline-code">aps:RemoteWrite</code>).</p><div><br/><hr/><br/></div><h2 id="conclusion" style="position:relative"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2><p>This document has gone over what the basic requirements are to get set up with the ADOT Collector to collect and export Prometheus metrics to AMP.
With this, you should be able to use the aforementioned tools to have a clean solution to observability on your software systems. </p><p>For more advanced configurations with the ADOT Collector-AMP, please take a look <a href="/docs/getting-started/advanced-prometheus-remote-write-configurations">here</a>.</p><p>We would love to hear more common configuration scenarios or improvements to this documentation from you! Please submit an issue
on the <a href="https://github.com/aws-observability/aws-otel-community">aws-otel community</a> to let us know.</p></div><style data-emotion-css="15t48j3">.css-15t48j3{position:-webkit-sticky;position:sticky;top:0;-webkit-order:2;-ms-flex-order:2;order:2;padding-top:72px;max-height:calc(100vh - 72px);overflow-y:auto;width:100%;max-width:200px;}@media (max-width:1200px){.css-15t48j3{position:relative;top:auto;-webkit-order:0;-ms-flex-order:0;order:0;max-width:100%;margin-left:0;padding-top:0;}}</style><div class="css-15t48j3 eckvqcf0"><style data-emotion-css="157u13d">.css-157u13d h2{text-transform:uppercase;font-size:14px;font-weight:bold;-webkit-letter-spacing:0.142em;-moz-letter-spacing:0.142em;-ms-letter-spacing:0.142em;letter-spacing:0.142em;margin-top:0rem;border:none;margin:0 0 16px 0;}.css-157u13d nav ul{padding-left:0;margin-bottom:0;list-style:none;}.css-157u13d nav ul li{margin-bottom:12px;line-height:1.1;}.css-157u13d nav ul li a{font-size:14px;font-weight:400;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 0.2s;transition:all 0.2s;}.css-157u13d nav ul li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}@media (max-width:1200px){.css-157u13d{margin:0 0 24px 0;padding-bottom:16px;border-bottom:1px solid rgba(120,117,122,0.2);}}</style><div class="css-157u13d eckvqcf1"><h2>On this page</h2><nav><ul><li><a href="#before-you-begin" style="color:#6C6C80">Before you Begin</a></li><li><a href="#service-discovery" style="color:#6C6C80">Service Discovery</a></li><li><a href="#basic-eks-configuration-for-amp" style="color:#6C6C80">Basic EKS Configuration for AMP</a></li><li style="margin-left:8px"><a href="#prerequisites" style="color:#6C6C80">Prerequisites</a></li><li style="margin-left:8px"><a href="#sample-app" style="color:#6C6C80">Sample App</a></li><li style="margin-left:8px"><a href="#aws-distro-for-opentelemetry-adot-collector-setup" style="color:#6C6C80">AWS Distro for OpenTelemetry (ADOT) Collector Setup</a></li><li style="margin-left:8px"><a href="#verifying-the-pipeline-works" style="color:#6C6C80">Verifying the Pipeline Works</a></li><li style="margin-left:8px"><a href="#it-works" style="color:#6C6C80">It Works!</a></li><li style="margin-left:8px"><a href="#cleaning-up" style="color:#6C6C80">Cleaning up</a></li><li><a href="#components-in-our-pipeline" style="color:#6C6C80">Components in our Pipeline</a></li><li><a href="#conclusion" style="color:#6C6C80">Conclusion</a></li></ul></nav></div></div></main></div><div style="height:110px"></div><footer class="jss196"><section class="jss197"><div class="jss199"><h3>About</h3><div> <a class="jss200" href="/about"> AWS Distro for OpenTelemetry </a></div><div> <a href="https://github.com/orgs/aws-observability/projects/4" target="_blank" class="jss200" rel="noopener noreferrer"> Roadmap </a></div><div> <a href="https://opentelemetry.io/" target="_blank" class="jss200" rel="noopener noreferrer"> About OpenTelemetry </a></div></div><div class="jss199"><h3>Community</h3><div> <a class="jss200" href="/get-involved"> Get Involved </a></div><div> <a class="jss200" href="/contributing"> Contributing </a></div><div> <a class="jss200" href="/contributors"> Contributors </a></div><div> <a class="jss200" href="/code-of-conduct"> Code of Conduct </a></div><div> <a href="https://gitter.im/aws-otel-distro/community" class="jss200" target="_blank" rel="noopener noreferrer"> Gitter </a></div><div> <a class="jss200" href="/blog"> Blog Posts </a></div><div> <a href="https://aws.amazon.com/otel/faqs/" class="jss200" target="_blank" rel="noopener noreferrer"> FAQ </a></div><div> <a class="jss200" target="_blank" rel="noopener noreferrer" href="/resources"> Resources </a></div></div><div class="jss199"><h3>Discover</h3><div> <a class="jss200" href="/docs/introduction"> Documentation </a></div><div> <a href="https://github.com/aws-observability" class="jss200" target="_blank" rel="noopener noreferrer"> Code on GitHub </a></div><div> <a class="jss200" href="/download"> Download </a></div></div><div class="jss199"><h3>Stay Connected</h3><div> <a href="https://twitter.com/awsopen" class="jss200" target="_blank" rel="noopener noreferrer"> Twitter </a></div><div> <a href="https://github.com/aws-observability/aws-otel-community" class="jss200" target="_blank" rel="noopener noreferrer"> GitHub Community </a></div><div> <a href="https://gitter.im/aws-otel-distro/community" class="jss200" target="_blank" rel="noopener noreferrer"> Gitter </a></div></div><div class="jss199"><h3>Other</h3><div> <a href="https://github.com/aws-observability/aws-otel-community/issues" class="jss200" target="_blank" rel="noopener noreferrer"> Report a Bug </a></div><div> <a href="https://github.com/aws-observability/aws-otel-community/issues" class="jss200" target="_blank" rel="noopener noreferrer"> File an Issue </a></div></div></section><section class="jss198"><div>© 2020–2021 Amazon Web Services, Inc. or its affiliates. All rights reserved.</div></section></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-180925204-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/getting-started/prometheus-remote-write-exporter";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5f071be65d366da85537.js"],"app":["/app-72d5719377e1ed8494c2.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-9b62bf3f74baae205e63.js"],"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js":["/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-45f43de71acbc3b54f55.js"],"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-homepage-query-js":["/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-homepage-query-js-6c323749a488759dc3d9.js"],"component---src-pages-404-js":["/component---src-pages-404-js-affd6afc03c1f662306c.js"],"component---src-pages-about-js":["/component---src-pages-about-js-943678449839daf3686a.js"],"component---src-pages-about-page-about-page-jsx":["/component---src-pages-about-page-about-page-jsx-27e707c4b499ccbfe892.js"],"component---src-pages-about-page-sections-main-body-section-jsx":["/component---src-pages-about-page-sections-main-body-section-jsx-0d86d750d6ac80e9c8d1.js"],"component---src-pages-announcements-js":["/component---src-pages-announcements-js-a30c97a1e700435d4b96.js"],"component---src-pages-announcements-page-announcements-page-jsx":["/component---src-pages-announcements-page-announcements-page-jsx-0693df7ebbc47c25d188.js"],"component---src-pages-announcements-page-sections-announcements-items-jsx":["/component---src-pages-announcements-page-sections-announcements-items-jsx-aa938f7e0b5fcfa4092b.js"],"component---src-pages-announcements-page-sections-main-body-section-jsx":["/component---src-pages-announcements-page-sections-main-body-section-jsx-5a236c2ad5ea183a804e.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-0aec3200e049c96ff208.js"],"component---src-pages-blog-page-blog-page-jsx":["/component---src-pages-blog-page-blog-page-jsx-e944f6670fa2fcb93841.js"],"component---src-pages-blog-page-sections-blog-items-jsx":["/component---src-pages-blog-page-sections-blog-items-jsx-b667ec373f884fde874c.js"],"component---src-pages-blog-page-sections-main-body-section-jsx":["/component---src-pages-blog-page-sections-main-body-section-jsx-c3e34b7d6735ac72f5b2.js"],"component---src-pages-code-of-conduct-js":["/component---src-pages-code-of-conduct-js-e78e5d5d050ebaf3ca23.js"],"component---src-pages-code-of-conduct-page-code-of-conduct-page-jsx":["/component---src-pages-code-of-conduct-page-code-of-conduct-page-jsx-c501dc08d27bdb2ffb9e.js"],"component---src-pages-code-of-conduct-page-sections-main-body-section-jsx":["/component---src-pages-code-of-conduct-page-sections-main-body-section-jsx-544f9c5d18fa7a971196.js"],"component---src-pages-coming-soon-js":["/component---src-pages-coming-soon-js-1a1772d40ef7dae905d0.js"],"component---src-pages-coming-soon-page-coming-soon-page-jsx":["/component---src-pages-coming-soon-page-coming-soon-page-jsx-38fe06a9619dc1784722.js"],"component---src-pages-coming-soon-page-sections-main-body-section-jsx":["/component---src-pages-coming-soon-page-sections-main-body-section-jsx-72dc9f0f57bc735e97ae.js"],"component---src-pages-contributing-js":["/component---src-pages-contributing-js-630707a82f78d2eeaed7.js"],"component---src-pages-contributing-page-contributing-page-jsx":["/component---src-pages-contributing-page-contributing-page-jsx-01bafd3ea90752893d38.js"],"component---src-pages-contributing-page-sections-main-body-section-jsx":["/component---src-pages-contributing-page-sections-main-body-section-jsx-4233f1859f01ff8843f0.js"],"component---src-pages-contributors-js":["/component---src-pages-contributors-js-3edbe2344027cbdeb389.js"],"component---src-pages-contributors-page-contributors-page-jsx":["/component---src-pages-contributors-page-contributors-page-jsx-f4e814fe1e867240c928.js"],"component---src-pages-contributors-page-sections-contributors-jsx":["/component---src-pages-contributors-page-sections-contributors-jsx-7d648a06bb0cfb575730.js"],"component---src-pages-download-js":["/component---src-pages-download-js-5a7148203a898d2f76d8.js"],"component---src-pages-download-page-download-page-jsx":["/component---src-pages-download-page-download-page-jsx-737ca6a4b54f60ad6385.js"],"component---src-pages-download-page-sections-download-items-jsx":["/component---src-pages-download-page-sections-download-items-jsx-4a48652f2687ac093f5e.js"],"component---src-pages-download-page-sections-select-component-jsx":["/component---src-pages-download-page-sections-select-component-jsx-5c9ff31b86e25479e2e4.js"],"component---src-pages-get-involved-js":["/component---src-pages-get-involved-js-521d0b4217566da16881.js"],"component---src-pages-get-involved-page-get-involved-page-jsx":["/component---src-pages-get-involved-page-get-involved-page-jsx-5c866a7fa3ec6e350e9b.js"],"component---src-pages-get-involved-page-sections-main-body-section-jsx":["/component---src-pages-get-involved-page-sections-main-body-section-jsx-2d2143e5590b087ac4d2.js"],"component---src-pages-homepage-homepage-jsx":["/component---src-pages-homepage-homepage-jsx-6cb4246e1faad55354cc.js"],"component---src-pages-homepage-sections-announcements-jsx":["/component---src-pages-homepage-sections-announcements-jsx-e87dc222d1e459f75a80.js"],"component---src-pages-homepage-sections-blog-widgets-jsx":["/component---src-pages-homepage-sections-blog-widgets-jsx-b25f5715a188d765c4cc.js"],"component---src-pages-homepage-sections-get-involved-section-jsx":["/component---src-pages-homepage-sections-get-involved-section-jsx-6de072aeea8de533500b.js"],"component---src-pages-homepage-sections-how-it-works-section-jsx":["/component---src-pages-homepage-sections-how-it-works-section-jsx-57f7a5d0036a67fc5596.js"],"component---src-pages-homepage-sections-info-section-jsx":["/component---src-pages-homepage-sections-info-section-jsx-f71e4e513b21af8a682f.js"],"component---src-pages-homepage-sections-whats-new-section-jsx":["/component---src-pages-homepage-sections-whats-new-section-jsx-0a16fb0aa068151f24c3.js"],"component---src-pages-index-js":["/component---src-pages-index-js-af566d9fecd5148e7e33.js"],"component---src-pages-resources-js":["/component---src-pages-resources-js-b0a3cc711f46d74ad3a3.js"],"component---src-pages-resources-page-resources-page-jsx":["/component---src-pages-resources-page-resources-page-jsx-a5bc3cf6f89d51f25cb4.js"],"component---src-pages-resources-page-sections-related-blogs-section-jsx":["/component---src-pages-resources-page-sections-related-blogs-section-jsx-f27b4bea7b0e97cc3f44.js"],"component---src-pages-resources-page-sections-related-projects-section-jsx":["/component---src-pages-resources-page-sections-related-projects-section-jsx-974dc0db5597becc4477.js"],"component---src-pages-search-js":["/component---src-pages-search-js-c5bed6fdbc4eff27d0c4.js"],"component---src-pages-search-page-search-page-jsx":["/component---src-pages-search-page-search-page-jsx-de088f89f2368e543a59.js"]};/*]]>*/</script><script src="/polyfill-5f071be65d366da85537.js" nomodule=""></script><script src="/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-45f43de71acbc3b54f55.js" async=""></script><script src="/a7629950cb7a18c7593baf47d0acfe798f1cddc4-aa14235f42f87ff443c7.js" async=""></script><script src="/fee088b98314f1c4f60af2da8e30cb2ecdb10dc4-f935cbbf81ed66aec01b.js" async=""></script><script src="/5f42379ef902d43f39938610daaf3e13d349761b-7dbd9e5ea9c6a65d9b01.js" async=""></script><script src="/2b52a9ec0c5bbc3ae6183118d9bb5cfc545d275b-e97d89e578881cac3af1.js" async=""></script><script src="/2ce3b0d7b06daf1e559750bf91a0586a45a8ba55-758805cce0da32d5fa44.js" async=""></script><script src="/6cfdb663dc172f0409111798e69bb5521bea0645-0b4e2e8750bf1d8153ff.js" async=""></script><script src="/5e2a4920-66fee83a10e40c17e487.js" async=""></script><script src="/545f34e4-e0d91f4c58aa355802b3.js" async=""></script><script src="/app-72d5719377e1ed8494c2.js" async=""></script><script src="/f0e45107-62247ddbcaaa245180a2.js" async=""></script><script src="/framework-a8da1bd70fda3710049f.js" async=""></script><script src="/webpack-runtime-063a4838d3c5e297a266.js" async=""></script></body></html>